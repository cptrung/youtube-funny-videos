(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){},36:function(e,t,n){e.exports=n(52)},45:function(e,t,n){},47:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(25),l=n.n(o),i=(n(45),n(8)),c=n(0),u=(n(47),n(35)),s=function(){return r.a.createElement("div",{className:"title-box","data-testid":"title-box"},r.a.createElement(u.a,{size:35}),r.a.createElement(i.b,{to:"/","data-testid":"header-title"},"Funny Movies"))},m=function(e){var t=Object(c.g)(),n=(e.token||{}).email;return r.a.createElement("div",null,r.a.createElement("label",null,"Welcome ",n),r.a.createElement(i.b,{to:"/share"},r.a.createElement("button",{type:"button"},"Share a movie")),r.a.createElement("button",{type:"button",onClick:function(){e.setToken(null),t("/",{replace:!0})}},"Logout"))},d=n(4),p=(n(24),function(e){var t=r.a.useState("someone@gmail.com"),n=Object(d.a)(t,2),a=n[0],o=n[1],l=r.a.useState("someone@gmail.com"),i=Object(d.a)(l,2),c=i[0],u=i[1];return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("input",{type:"text",value:a,onChange:function(e){return o(e.target.value)},placeholder:"Email"}),r.a.createElement("input",{type:"password",value:c,onChange:function(e){return u(e.target.value)},placeholder:"Password"}),r.a.createElement("button",{type:"button",onClick:function(){return function(){if(!a||!c)return!1;fetch("/api/login",{method:"POST",body:JSON.stringify({email:a,password:c})}).then(function(e){return e.json()}).then(function(t){e.setToken(t),window.location.reload()}).catch(function(e){console.error("Error:",e)})}()}},"Login / Register")))}),f="";function h(){var e=Object(a.useState)(function(){var e=localStorage.getItem(f);return JSON.parse(e)||null}()),t=Object(d.a)(e,2),n=t[0],r=t[1];return{setToken:function(e){localStorage.setItem(f,JSON.stringify(e)),r(e)},token:n}}var v=function(){var e=h(),t=e.token,n=e.setToken;return r.a.createElement("div",{className:"header"},r.a.createElement(s,null),t&&r.a.createElement(m,{token:t,setToken:n})||r.a.createElement(p,{setToken:n}))},w=n(9),E=function(e){return r.a.createElement("div",{className:"item"},r.a.createElement("div",null,r.a.createElement("iframe",{src:"https://www.youtube.com/embed/".concat(e.videoId),allow:"autoplay; encrypted-media",allowFullScreen:!0,title:e.title})),r.a.createElement("div",null,r.a.createElement("span",null,e.title),r.a.createElement("span",null,"Shared by: ",e.email),r.a.createElement("span",null,"Description"),r.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.description}})))},b=function(){var e=r.a.useState(null),t=Object(d.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)(function(){Object(w.isEmpty)(n)&&fetch("/api/videos").then(function(e){return e.json()}).then(function(e){return o(e.data)}).catch(function(e){return console.log(e)})},[]),r.a.createElement("div",{className:"item-box"},Object(w.map)(n,function(e,t){return r.a.createElement(E,Object.assign({},e,{key:"video-".concat(t)}))}))},g=function(e){var t=e||{},n=t.label,a=void 0===n?"Label":n,o=t.children;return r.a.createElement("fieldset",null,r.a.createElement("legend",null,a),r.a.createElement(r.a.Fragment,null,o))},y=function(){var e=h().token,t=Object(c.g)(),n=r.a.useState("https://www.youtube.com/watch?v=EBpp2VTSI2Q"),a=Object(d.a)(n,2),o=a[0],l=a[1];return r.a.createElement("div",{className:"share-box"},r.a.createElement("div",null,r.a.createElement(g,{label:"Share a Youtube movie"},r.a.createElement("form",null,r.a.createElement("ul",null,r.a.createElement("li",{"data-label":"Youtube URL:"},r.a.createElement("input",{"data-testid":"url",type:"text",value:o,onChange:function(e){return l(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("button",{type:"button",onClick:function(){o&&fetch("/api/videos",{method:"POST",body:JSON.stringify({url:o,email:e.email})}).then(function(e){return e.json()}).then(function(e){t("/",{replace:!0})}).catch(function(e){console.error("Error:",e)})}},"Share")))))))},S=n(20);Object(S.b)({models:{user:S.a,video:S.a},seeds:function(e){e.create("user",{email:"someone@gmail.com",password:"cptrung@gmail.com"}),e.create("video",{email:"someone@gmail.com",videoId:"EBpp2VTSI2Q",url:"https://www.youtube.com/watch?v=EBpp2VTSI2Q",title:"HD Film Countdown Leader in 16x9 Ratio",description:'1 Beastly Exploitation Cinema\'s Film Leader Countdown.\r\n\r\nThis 1080p HD Film Countdown Leader  was created with Paint.Net and VirtualDub.  There is no sound.  The countdown was created at 24 FPS to give every frame a correct "Film" feel. This 1080p HD Film Countdown Leader  was created with Paint.Net and VirtualDub.  There is no sound.  The countdown was created at 24 FPS to give every frame a correct "Film" feel.'}),e.create("video",{email:"someone@gmail.com",videoId:"E7wJTI-1dvQ",url:"https://www.youtube.com/embed/E7wJTI-1dvQ",title:"HD Film Countdown Leader in 16x9 Ratio",description:'2 Beastly Exploitation Cinema\'s Film Leader Countdown.\r\n\r\nThis 1080p HD Film Countdown Leader  was created with Paint.Net and VirtualDub.  There is no sound.  The countdown was created at 24 FPS to give every frame a correct "Film" feel. This 1080p HD Film Countdown Leader  was created with Paint.Net and VirtualDub.  There is no sound.  The countdown was created at 24 FPS to give every frame a correct "Film" feel.'})},routes:function(){this.namespace="api",this.passthrough("https://www.googleapis.com/youtube/v3/**"),this.get("/videos",function(e){return{data:e.videos.all().models}}),this.post("/videos",function(e,t){var n=JSON.parse(t.requestBody),a=n.url,r=n.email,o=function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!t||11!==t[7].length)&&t[7]}(a);return fetch("https://www.googleapis.com/youtube/v3/videos?key=".concat("AIzaSyAowQ10zIsWelYu86DCIy9fjk9Ydagd4f0","&fields=items(snippet(title,description))&part=snippet&id=").concat(o)).then(function(e){return e.json()}).then(function(t){var n=Object(w.get)(t,"items[0].snippet.title",""),l=Object(w.get)(t,"items[0].snippet.description",""),i={email:r,videoId:o,url:a,title:n,description:l};return e.videos.create(i).attrs}).catch(function(e){console.error("Error:",e)}),null}),this.post("/login",function(e,t){var n=JSON.parse(t.requestBody),a=n.email,r=n.password,o=e.users.findBy({email:a});if(o)return o.attrs;var l={email:a,password:r};return e.users.create(l).attrs})}});var T=function(){var e=h().token;return r.a.createElement(i.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(v,null),r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",element:r.a.createElement(b,null)}),r.a.createElement(c.b,{exact:!0,path:"/share",element:e?r.a.createElement(y,null):r.a.createElement(c.a,{to:"/"})}))))},F=function(e){e&&e instanceof Function&&n.e(1).then(n.bind(null,53)).then(function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,l=t.getTTFB;n(e),a(e),r(e),o(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null))),F()}},[[36,3,2]]]);
//# sourceMappingURL=main.74b76799.chunk.js.map